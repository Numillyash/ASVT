gavrasm Gerd's AVR assembler version 5.4 (C)2022 by DG4FAC
----------------------------------------------------------
Source file: main.asm
Hex file:    main.hex
Eeprom file: main.eep
Compiled:    20.02.2023, 15:57:11
Pass:        2
     1: ;
     2: ; AssemblerApplication1.asm
     3: ;
     4: ; Created: 06.02.2023 18:38:51
     5: ; Author : Georgul
     6: ;
     7: .device atmega328p
     8: 
     9: .def TMP = R20
    10: 
    11: .org $000
    12: 000000   940C  JMP reset ; Указатель на начало программы
        000001   000D
    13: 
    14: ; Функция паузы 54-227-8
    15: delay:
    16: 000002   E3D6  LDI R29, 54;
    17: 000003   EEE3  LDI R30, 227
    18: 000004   E0F8  LDI R31, 8;
    19: 	
    20: delay_sub:
    21: 000005   95DA  DEC R29
    22: 000006   F7F1  BRNE delay_sub
    23: 000007   95E3  INC R30
    24: 000008   F7E1  BRNE delay_sub
    25: 000009   0000  NOP
    26: 00000A   95FA  DEC R31
    27: 00000B   F7C9  BRNE delay_sub
    28: 00000C   9508  RET
    29: 
    30: ; Начальная настройка
    31: reset:
    32: ; настройка исходных значений
    33: 00000D   E041  LDI  TMP, 0x01;
    34: 00000E   2E04  MOV  R0, TMP
    35: 00000F   2744  CLR  TMP;
    36: ; настройка портов ввода-вывода
    37: 000010   EF4F  SER  TMP ; 0xFF
    38: 000011   B94A  OUT  DDRD, TMP ; Вывод
    39: ; Установка вершины стека в конец ОЗУ
    40: 000012   E048  LDI  TMP, HIGH(RAMEND) ; Старшие разряды адреса
    41: 000013   BF4E  OUT  SPH, TMP 
    42: 000014   EF4F  LDI  TMP, LOW(RAMEND) ; Младшие разряды адреса
    43: 000015   BF4D  OUT  SPL, TMP
    44: 
    45: ; Основной цикл
    46: loop:
    47: ; Циклический сдвиг 32-разрядного числа R0-R3 
    48: 000016   FA00  BST R0, 0 ; сохранение младшего бита во флаге Т
    49: 000017   9407  ROR R0 ; циклический сдвиг вправо
    50: 000018   F807  BLD R0, 7 ; заполнение 7 бита значением из флага T
    51: ; Вывод 32-разрядного числа R0-R3 на порты PORTA-PORTD
    52: 000019   B80B  OUT PORTD, R0
    53: ; Пауза
    54: 00001A   940E  CALL delay;
        00001B   0002
    55: ; Возврат в начало основного цикла
    56: 00001C   CFF9  RJMP loop ;

Program             :       29 words.
Constants           :        0 words.
Total program memory:       29 words.
Eeprom space        :        0 bytes.
Data segment        :        0 bytes.
Compilation completed, no errors.
Compilation ended 20.02.2023, 15:57:11
