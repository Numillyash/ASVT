gavrasm Gerd's AVR assembler version 5.4 (C)2022 by DG4FAC
----------------------------------------------------------
Source file: main2.asm
Hex file:    main2.hex
Eeprom file: main2.eep
Compiled:    07.04.2023, 23:38:01
Pass:        2
     1: 
     2: ;
     3: ;
     4: ;
     5: ; AssemblerApplication1.asm
     6: ;
     7: ; Created: 06.02.2023 18:38:51
     8: ; Author : Georgul
     9: ;
    10: .device atmega328p
    11: 
    12: .def TMP = R20
    13: 
    14: .org $000
    15: 000000   940C  JMP reset ; Указатель на начало программы
        000001   0020
    16: 
    17: ; Функция паузы 54-227-8
    18: delay:
    19: 000002   E1E4  LDI R30, 20
    20: 000003   EFFA  LDI R31, 250;
    21: 	
    22: delay_sub:
    23: 000004   95E3  INC R30
    24: 000005   0000  NOP
    25: 000006   0000  NOP
    26: 000007   0000  NOP
    27: 000008   0000  NOP
    28: 000009   0000  NOP
    29: 00000A   0000  NOP
    30: 00000B   0000  NOP
    31: 00000C   0000  NOP
    32: 00000D   0000  NOP
    33: 00000E   0000  NOP
    34: 00000F   0000  NOP
    35: 000010   0000  NOP
    36: 000011   0000  NOP
    37: 000012   0000  NOP
    38: 000013   0000  NOP
    39: 000014   0000  NOP
    40: 000015   0000  NOP
    41: 000016   0000  NOP
    42: 000017   0000  NOP
    43: 000018   0000  NOP
    44: 000019   0000  NOP
    45: 00001A   0000  NOP
    46: 00001B   F741  BRNE delay_sub
    47: 00001C   0000  NOP
    48: 00001D   95FA  DEC R31
    49: 00001E   F729  BRNE delay_sub
    50: 00001F   9508  RET
    51: 
    52: ; Начальная настройка
    53: reset:
    54: ; настройка исходных значений
    55: 000020   E041  LDI  TMP, 0x01;
    56: 000021   2E04  MOV  R0, TMP
    57: 000022   2744  CLR  TMP;
    58: ; настройка портов ввода-вывода
    59: 000023   EF4F  SER  TMP ; 0xFF
    60: 000024   B94A  OUT  DDRD, TMP ; Вывод
    61: ; Установка вершины стека в конец ОЗУ
    62: 000025   E048  LDI  TMP, HIGH(RAMEND) ; Старшие разряды адреса
    63: 000026   BF4E  OUT  SPH, TMP 
    64: 000027   EF4F  LDI  TMP, LOW(RAMEND) ; Младшие разряды адреса
    65: 000028   BF4D  OUT  SPL, TMP
    66: 
    67: ; Основной цикл
    68: loop:
    69: ; Циклический сдвиг 32-разрядного числа R0-R3 
    70: 000029   FA00  BST R0, 0 ; сохранение младшего бита во флаге Т
    71: 00002A   9407  ROR R0 ; циклический сдвиг вправо
    72: 00002B   F807  BLD R0, 7 ; заполнение 7 бита значением из флага T
    73: ; Вывод 32-разрядного числа R0-R3 на порты PORTA-PORTD
    74: 00002C   B80B  OUT PORTD, R0
    75: ; Пауза
    76: 00002D   940E  CALL delay;
        00002E   0002
    77: ; Возврат в начало основного цикла
    78: 00002F   CFF9  RJMP loop ;

Program             :       48 words.
Constants           :        0 words.
Total program memory:       48 words.
Eeprom space        :        0 bytes.
Data segment        :        0 bytes.
Compilation completed, no errors.
Compilation ended 07.04.2023, 23:38:01
